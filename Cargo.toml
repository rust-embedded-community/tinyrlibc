[package]
name = "tinyrlibc"
version = "0.3.0"
authors = ["Jonathan 'theJPster' Pallant <github@thejpster.org.uk>"]
edition = "2021"
description = "Tiny, incomplete C library for bare-metal targets, written in Stable (but Unsafe) Rust"
license-file = "LICENCES.md"
readme = "README.md"
repository = "https://github.com/thejpster/tinyrlibc"

[dependencies]
portable-atomic = { version = "1.6.0", optional = true }

# Doesn't have CAS atomics, so add critical-section
[target.thumbv6m-none-eabi.dependencies]
portable-atomic = { version = "1.6.0", optional = true, features = ["critical-section"] }

# Doesn't have CAS atomics, so add critical-section
[target.riscv32i-unknown-none-elf.dependencies]
portable-atomic = { version = "1.6.0", optional = true, features = ["critical-section"] }

[dev-dependencies]
static-alloc = "0.2.4"

[build-dependencies]
cc = "1.0"

[features]
default = ["all"]
all = [
    "abs",
    "strcmp",
    "strncmp",
    "strncasecmp",
    "strcpy",
    "strncpy",
    "strlen",
    "strtol",
    "strtoul",
    "strtoll",
    "strtoull",
    "strtoimax",
    "strtoumax",
    "strstr",
    "strchr",
    "atoi",
    "utoa",
    "itoa",
    "snprintf",
    "isspace",
    "isdigit",
    "isalpha",
    "isupper",
]
abs = []
strcmp = []
strncmp = []
strncasecmp = []
strcpy = []
strncpy = []
strlen = []
strtol = []
strtoul = []
strtoll = []
strtoull = []
strtoimax = []
strtoumax = []
strstr = []
strchr = []
atoi = []
utoa = []
itoa = []
snprintf = []
isspace = []
isdigit = []
isalpha = []
isupper = []
alloc = []
signal = ["dep:portable-atomic"]
